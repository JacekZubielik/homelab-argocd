---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: traefik  

resources:
- ../../base
- resources/cert-staging.yaml
#- resources/cert-production.yaml
- resources/chains.yaml
- resources/dashboard.yaml
- resources/middlewares.yaml
- resources/secrets.yaml
- resources/servicemonitor.yaml
- resources/tlsoption.yaml
- resources/tlsstore.yaml

# commonLabels:
#   app.kubernetes.io/name: traefik
#   app: traefik

# configMapGenerator:
# - name: traefik-config
#   literals:
#   - TZ="Europe/Warsaw"

# patches:
#   - target:
#       group: rbac.authorization.k8s.io
#       version: v1
#       kind: ClusterRoleBinding
#       name: traefik-role-binding
#     patch: |-
#       - op: add
#         path: /subjects/0/namespace
#         value: traefik