# helm repo add prometheus https://prometheus-community.github.io/helm-charts
#
# helm show values prometheus/kube-prometheus-stack >> kube-prometheus-stack-values.yaml

global:
  rbac:
    create: true
    createAggregateClusterRoles: false
    pspEnabled: false

####################################

alertmanager:
  enabled: true
  #baseURL: "http://localhost:9093"

  # persistentVolume:
  #   size: 2Gi
  resources:
    limits:
      cpu: 100m
      memory: 512Mi
    requests:
      cpu: 50m
      memory: 300Mi



####################################
nodeExporter:
  enabled: true
  operatingSystems:
    linux:
      enabled: true
    darwin:
      enabled: false

  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 100m
      memory: 512Mi



####################################
server:
  statefulset:
    enable: true  # avoids "Multi-Attach error for volume pvc... Volume is already used by pod(s) prometheus-server-..." that happens during deployment update bringing 2nd pod online and getting jammed
  retention: "15d"
  # persistentVolume:
  #   size: 8Gi
  resources:
    limits:
      cpu: 100m
      memory: 3Gi
    requests:
      cpu: 100m
      memory: 2Gi

# pushgateway:
#   persistentVolume:
#     size: 2Gi
