apiVersion: apps/v1
kind: Deployment
metadata:
  name: uptime-kuma
  labels:
    app.kubernetes.io/name: uptime-kuma
    app: uptime-kuma
    name: uptime-kuma

spec:
  revisionHistoryLimit: 2
  replicas: 1
  progressDeadlineSeconds: 600
  strategy:
    type: Recreate

  # selector:
  #   matchLabels:
  #     app.kubernetes.io/name: uptime-kuma

  template:
    # metadata:
    #   labels:
    #     app.kubernetes.io/name: uptime-kuma
    #     task: uptime-kuma
    spec:
      containers:
      - name: uptime-kuma
        image: louislam/uptime-kuma:latest
        #resources:
          # requests:
          #   memory: "256Mi"
          #   cpu: "100m"
            
          # limits: 
          #   memory: "512Mi"
          #   cpu: "250m" 
        env:
        - name: UPTIME_KUMA_PORT
          value: "3001"
        ports: 
          - containerPort: 3001
      #   volumeMounts:
      #   - mountPath: /app/data
      #     name: uptime-kuma-content
      # volumes:
      # - name: uptime-kuma-content
      #   persistentVolumeClaim:
      #     claimName:  uptime-kuma-claim
        
